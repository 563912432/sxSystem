{"version":3,"sources":["webpack:///./src/components/RemovableBox.vue?0483","webpack:///./src/components/RemovableBox.vue?8c3a","webpack:///src/components/RemovableBox.vue","webpack:///./src/components/RemovableBox.vue?e154","webpack:///./src/components/RemovableBox.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","on","$event","removeStart","removeEnd","_t","stopPropagation","staticRenderFns","component"],"mappings":"kHAAA,yBAA6rB,EAAG,G,kECAhsB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,eAAeC,YAAY,UAAUC,MAAM,CAAC,GAAK,iBAAiB,CAACJ,EAAG,MAAM,CAACE,IAAI,iBAAiBC,YAAY,sBAAsBE,GAAG,CAAC,UAAY,SAASC,GAAQ,OAAOV,EAAIW,YAAYD,IAAS,QAAU,SAASA,GAAQ,OAAOV,EAAIY,eAAe,CAACZ,EAAIa,GAAG,gBAAgBT,EAAG,MAAM,CAACG,YAAY,cAAcE,GAAG,CAAC,UAAY,SAASC,GAAQA,EAAOI,qBAAsB,CAACd,EAAIa,GAAG,oBAAoB,IAAI,GAAGT,EAAG,MAAM,CAACE,IAAI,iBAAiBC,YAAY,0BAA0B,CAACP,EAAIa,GAAG,WAAWT,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACP,EAAIa,GAAG,WAAW,IAAI,MAC9oBE,EAAkB,GCoBtB,GACA,oBACA,gBACA,OACA,YACA,UACA,UACA,iBACA,gBACA,mBAGA,OACA,cAEA,SAEA,gBACA,qDAGA,mBACA,+CACA,4CACA,0BACA,mEACA,2DAEA,+CACA,iDAGA,iBACA,WACA,oDACA,kDACA,oDAGA,mDACA,eACA,yBACA,qBACA,MACA,KAEA,MACA,KAEA,sDACA,oCAEA,wEACA,uDAGA,wDACA,cAGA,8CACA,cAGA,uCACA,0CAGA,kDACA,sFACA,kBAKA,eACA,iBACA,sBACA,sBACA,0CAGA,YACA,iBACA,0CAGA,UACA,oBAEA,qBAEA,wBAEA,0BCnH0b,I,wBCQtbC,EAAY,eACd,EACAjB,EACAgB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-cea32282.9eebdb05.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./RemovableBox.vue?vue&type=style&index=0&id=6316b90f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./RemovableBox.vue?vue&type=style&index=0&id=6316b90f&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"removableBox\",staticClass:\"fColumn\",attrs:{\"id\":\"removableBox\"}},[_c('div',{ref:\"removableBoxHd\",staticClass:\"removableBoxHd fRow\",on:{\"mousedown\":function($event){return _vm.removeStart($event)},\"mouseup\":function($event){return _vm.removeEnd()}}},[_vm._t(\"reBoxHdTitle\"),_c('div',{staticClass:\"close hover\",on:{\"mousedown\":function($event){$event.stopPropagation();}}},[_vm._t(\"reBoxHdCloseBtn\")],2)],2),_c('div',{ref:\"removableBoxBd\",staticClass:\"removableBoxBd fColumn\"},[_vm._t(\"reBoxBd\"),_c('div',{staticClass:\"fRow\"},[_vm._t(\"btnBox\")],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div id=\"removableBox\" class=\"fColumn\" ref=\"removableBox\">\r\n\t\t<div class=\"removableBoxHd fRow\" ref=\"removableBoxHd\" @mousedown=\"removeStart($event)\" @mouseup=\"removeEnd()\">\r\n\t\t\t<!-- 头部标题 -->\r\n\t\t\t<slot name=\"reBoxHdTitle\"></slot>\r\n\r\n\t\t\t<!-- 头部 关闭按钮 -->\r\n\t\t\t<div class=\"close hover\" @mousedown.stop=\"\"><slot name=\"reBoxHdCloseBtn\"></slot></div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"removableBoxBd fColumn\" ref=\"removableBoxBd\">\r\n\t\t\t<!-- 主体 -->\r\n\t\t\t<slot name=\"reBoxBd\"></slot>\r\n\r\n\t\t\t<!-- 按钮盒子 -->\r\n\t\t\t<div class=\"fRow\"><slot name=\"btnBox\"></slot></div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'RemovableBox',\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tisRemove: false,\r\n\t\t\treBoxX: '',\r\n\t\t\treBoxY: '',\r\n\t\t\treBoxHdHeight: '',\r\n\t\t\treBoxBdWidth: '',\r\n\t\t\treBoxBdHeight: ''\r\n\t\t};\r\n\t},\r\n\tprops: {\r\n\t\twidth: Number //可移动盒子 宽度\r\n\t},\r\n\tmethods: {\r\n\t\t// 设置 可移动盒子 宽度\r\n\t\tsetReBoxWidth() {\r\n\t\t\tthis.$refs.removableBox.style.width = this.width + 'px';\r\n\t\t},\r\n\t\t// 设置 可移动盒子 位置\r\n\t\tsetReBoxPosition() {\r\n\t\t\tlet innerWidth = parseFloat(window.innerWidth).toFixed(2);\r\n\t\t\tlet innerHeight = parseFloat(window.innerHeight).toFixed(2);\r\n\t\t\tlet reBox = this.$refs.removableBox;\r\n\t\t\tlet reBoxW = parseFloat(reBox.offsetWidth ? reBox.offsetWidth : reBox.style.width).toFixed(2);\r\n\t\t\tlet reBoxH = parseFloat(reBox.offsetHeight ? reBox.offsetHeight : 300).toFixed(2);\r\n\r\n\t\t\tthis.$refs.removableBox.style.top = (innerHeight - reBoxH) / 2 + 'px';\r\n\t\t\tthis.$refs.removableBox.style.left = (innerWidth - reBoxW) / 2 + 'px';\r\n\t\t},\r\n\t\t// 鼠标移动事件\r\n\t\tmouseMoveEvent() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.reBoxHdHeight = that.$refs.removableBoxHd.offsetHeight;\r\n\t\t\tthat.reBoxBdWidth = that.$refs.removableBoxBd.offsetWidth;\r\n\t\t\tthat.reBoxBdHeight = that.$refs.removableBoxBd.offsetHeight;\r\n\r\n\t\t\t// 鼠标移动事件 侦听器\r\n\t\t\tdocument.addEventListener('mousemove', function(e) {\r\n\t\t\t\tif (that.isRemove) {\r\n\t\t\t\t\tlet cx = e.clientX - that.reBoxX;\r\n\t\t\t\t\tlet cy = e.clientY - that.reBoxY;\r\n\t\t\t\t\tif (cx < 0) {\r\n\t\t\t\t\t\tcx = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (cy < 0) {\r\n\t\t\t\t\t\tcy = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (window.innerWidth - e.clientX + that.reBoxX < that.reBoxBdWidth) {\r\n\t\t\t\t\t\tcx = window.innerWidth - that.reBoxBdWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (e.clientY > window.innerHeight - that.reBoxBdHeight - that.reBoxHdHeight + that.reBoxY) {\r\n\t\t\t\t\t\tcy = window.innerHeight - that.reBoxHdHeight - that.reBoxBdHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 鼠标移动到 浏览器外 移动结束\r\n\t\t\t\t\tif (e.clientX < 0 || e.clientX > window.innerWidth || e.clientY < 0) {\r\n\t\t\t\t\t\tthat.removeEnd();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 鼠标移动到 可移动盒子内容部分 移动结束\r\n\t\t\t\t\tif (e.clientY > window.innerHeight - that.reBoxBdHeight) {\r\n\t\t\t\t\t\tthat.removeEnd();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthat.$refs.removableBox.style.left = cx + 'px';\r\n\t\t\t\t\tthat.$refs.removableBox.style.top = cy + 'px';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdocument.addEventListener('mouseup', function(e) {\r\n\t\t\t\tif (e.clientX < 0 || e.clientX > window.innerWidth || e.clientY < 0 || e.clientY > window.innerHeight) {\r\n\t\t\t\t\tthat.removeEnd();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 可移动盒子头部 鼠标移动事件\r\n\t\tremoveStart(e) {\r\n\t\t\tthis.isRemove = true;\r\n\t\t\tthis.reBoxX = e.offsetX;\r\n\t\t\tthis.reBoxY = e.offsetY;\r\n\t\t\tthis.$refs.removableBox.style.opacity = 0.9;\r\n\t\t},\r\n\t\t// 移动结束\r\n\t\tremoveEnd() {\r\n\t\t\tthis.isRemove = false;\r\n\t\t\tthis.$refs.removableBox.style.opacity = 1;\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\t// 设置 可移动盒子 宽度\r\n\t\t\tthis.setReBoxWidth();\r\n\t\t\t// 设置 可移动盒子 位置\r\n\t\t\tthis.setReBoxPosition();\r\n\t\t\t// 鼠标移动事件\r\n\t\t\tthis.mouseMoveEvent();\r\n\t\t});\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#removableBox {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 500px;\r\n\toverflow: hidden;\r\n\tborder-radius: 2px;\r\n\tbox-shadow: 0 1px 3px #ccc;\r\n\tz-index: 1;\r\n\t.removableBoxHd {\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0 20px;\r\n\t\twidth: 100%;\r\n\t\theight: 40px;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #d1ab5b;\r\n\t\tcursor: move;\r\n\t\tuser-select: none;\r\n\t\tspan {\r\n\t\t\tpointer-events: none;\r\n\t\t}\r\n\t\t.close {\r\n\t\t\twidth: 16px;\r\n\t\t\theight: 16px;\r\n\t\t\timg {\r\n\t\t\t\twidth: 16px;\r\n\t\t\t\theight: 16px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.removableBoxBd {\r\n\t\tpadding: 10px 20px;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 14px;\r\n\t\tbackground-color: #fff;\r\n\t\t.title {\r\n\t\t\tmargin: 10px 0;\r\n\t\t\tcolor: #f00;\r\n\t\t\tfont-size: 20px;\r\n\t\t}\r\n\t\t.doc {\r\n\t\t\talign-self: flex-start;\r\n\t\t\tmargin: 5px 0;\r\n\t\t\tcolor: #333;\r\n\t\t\t.colorRed {\r\n\t\t\t\tcolor: #f00;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.sure,\r\n\t\t.cancel {\r\n\t\t\tmargin: 10px 10px 0 10px;\r\n\t\t\tpadding: 6px 30px;\r\n\t\t\tborder-radius: 4px;\r\n\t\t}\r\n\t\t.sure {\r\n\t\t\tcolor: #fff;\r\n\t\t\tbackground-color: #d4b562;\r\n\t\t}\r\n\t\t.cancel {\r\n\t\t\tcolor: #d4b562;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder: 1px solid #d4b562;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./RemovableBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./RemovableBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RemovableBox.vue?vue&type=template&id=6316b90f&scoped=true&\"\nimport script from \"./RemovableBox.vue?vue&type=script&lang=js&\"\nexport * from \"./RemovableBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RemovableBox.vue?vue&type=style&index=0&id=6316b90f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6316b90f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}