webpackJsonp([19],{"473G":function(t,e,l){"use strict";var o={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"collection",staticStyle:{width:"100%",padding:"10px"}},[l("div",{staticClass:"rg-top"},[l("div",{staticClass:"rg-top-top"},[l("span",{staticClass:"content-top-text-blue"}),t._v(" "),l("span",{attrs:{id:"left_month"}},[t._v(t._s(t.company[0].shenbao_month))]),t._v(" "),l("span",{staticStyle:{"margin-left":"2px"}},[t._v("劳务报酬所得")]),t._v(" "),l("span",{staticClass:"f-14 ml-50",staticStyle:{"font-weight":"normal"}},[t._v("申报总人数：")]),t._v(" "),l("span",{attrs:{id:"top_sum"}},[t._v(t._s(t.payNormalTable.length))]),t._v(" "),l("span",{staticClass:"f-14 mr-20",staticStyle:{"font-weight":"normal"}},[t._v("人")]),t._v(" "),l("span",{staticClass:"f-14",staticStyle:{"font-weight":"normal"}},[t._v("收入总额：")]),t._v(" "),l("span",{attrs:{id:"top_add"}},[t._v(t._s(t.incomeAll))]),t._v(" "),l("span",{staticClass:"f-14 mr-20",staticStyle:{"font-weight":"normal"}},[t._v("人")]),t._v(" "),l("span",{staticClass:"f-14",staticStyle:{"font-weight":"normal"}},[t._v("免税收入合计：")]),t._v(" "),l("span",{attrs:{id:"top_del"}},[t._v(t._s(t.mianTaxAll))]),t._v(" "),l("span",{staticClass:"f-14",staticStyle:{"font-weight":"normal"}},[t._v("人")])]),t._v(" "),l("div",{staticClass:"rg-top-bottom"},[l("div",[l("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.goBack}},[t._v("返回")]),t._v(" "),l("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addFormClick}},[t._v("添加")]),t._v(" "),l("el-dropdown",[l("el-button",{attrs:{type:"primary",size:"small","split-button":!0}},[t._v("\n            导入\n            "),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{nativeOn:{click:function(e){return t.nullClick(e)}}},[t._v("导入文件")]),t._v(" "),l("el-dropdown-item",{nativeOn:{click:function(e){return t.nullClick(e)}}},[t._v("模板下载")])],1)],1)],1),t._v(" "),l("div",[l("el-dropdown",[l("el-button",{staticClass:"right-btn",attrs:{type:"text",size:"small"}},[t._v("\n            导出\n            "),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{nativeOn:{click:function(e){return t.nullClick(e)}}},[t._v("导出当页")]),t._v(" "),l("el-dropdown-item",{nativeOn:{click:function(e){return t.nullClick(e)}}},[t._v("导出全部")])],1)],1),t._v(" "),l("el-button",{staticClass:"right-btn",attrs:{type:"text",size:"small"},on:{click:t.changeSelectClick}},[t._v("展开查询条件")]),t._v(" "),l("el-dropdown",[l("el-button",{staticClass:"right-btn",attrs:{type:"text",size:"small"}},[t._v("\n            更多操作\n            "),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{nativeOn:{click:function(e){return t.updataClick(t.formId)}}},[t._v("修改")]),t._v(" "),l("el-dropdown-item",{nativeOn:{click:function(e){return t.deleteClick(t.formId)}}},[t._v("删除")]),t._v(" "),l("el-dropdown-item",{nativeOn:{click:function(e){return t.nullClick(e)}}},[t._v("批量修改")]),t._v(" "),l("el-dropdown-item",{nativeOn:{click:function(e){return t.nullClick(e)}}},[t._v("自定义显示列")]),t._v(" "),l("el-dropdown-item",{nativeOn:{click:function(e){return t.nullClick(e)}}},[t._v("隐藏非正常人员")]),t._v(" "),l("el-dropdown-item",{nativeOn:{click:function(e){return t.nullClick(e)}}},[t._v("异常身份证处理")])],1)],1)],1)])]),t._v(" "),t.isSelect?l("topSelect",{attrs:{formId:t.formId},on:{selectClick:t.selectClick}}):t._e(),t._v(" "),l("el-table",{ref:t.formId+"Table",staticStyle:{"margin-top":"5px"},attrs:{data:t.payNormalTable,border:"",fit:"",size:"mini"},on:{"selection-change":t.selsChange}},[l("el-table-column",{attrs:{type:"selection"}}),t._v(" "),l("el-table-column",{attrs:{prop:"employmentNumber",label:"工号"}}),t._v(" "),l("el-table-column",{attrs:{prop:"personName",label:"姓名"}}),t._v(" "),l("el-table-column",{attrs:{prop:"cardType",label:"证照类型"}}),t._v(" "),l("el-table-column",{attrs:{prop:"cardNumber",label:"证照号码","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"incomeProject",label:"所得项目","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{label:"所得期间起",width:"100px"}},[[t._v(t._s(t.company[0].time_start))]],2),t._v(" "),l("el-table-column",{attrs:{label:"所得期间止",width:"100px"}},[[t._v(t._s(t.company[0].time_end))]],2),t._v(" "),l("el-table-column",{attrs:{prop:"income",label:"本期收入"}}),t._v(" "),l("el-table-column",{attrs:{prop:"pay",label:"费用"}}),t._v(" "),l("el-table-column",{attrs:{prop:"incomeNoTax",label:"本期免税收入",width:"120px"}}),t._v(" "),l("el-table-column",{attrs:{prop:"otherForm.shangyebaoxian",label:"商业健康保险",width:"120px"}}),t._v(" "),l("el-table-column",{attrs:{prop:"otherForm.shuiyanbaoxian",label:"税延养老保险",width:"120px"}}),t._v(" "),l("el-table-column",{attrs:{prop:"otherForm.else",label:"其他"}}),t._v(" "),l("el-table-column",{attrs:{prop:"otherAll.zhunyukouchu",label:"准予扣除的捐赠额",width:"150px"}}),t._v(" "),l("el-table-column",{attrs:{prop:"otherAll.jianmianshuie",label:"减免税额",width:"120px"}}),t._v(" "),l("el-table-column",{attrs:{prop:"otherAll.yikoujiaoshuie",label:"已扣缴税额",width:"140px"}}),t._v(" "),l("el-table-column",{attrs:{prop:"otherAll.remark",label:"备注",width:"120px"}})],1),t._v(" "),l("el-dialog",{staticClass:"in-table",attrs:{title:"劳务报酬所得",visible:t.centerDialogVisible,"close-on-click-modal":t.close_modal,width:"1000px",top:"10vh"},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[l("div",{staticClass:"in-table-content"},[l("el-form",{ref:"laborForm",staticClass:"demo-ruleForm",attrs:{"status-icon":!0,model:t.laborForm,rules:t.rules,"label-width":"120px","label-position":"right"}},[l("div",{staticStyle:{height:"600px",padding:"0 30px 0 0px","overflow-y":"scroll"}},[l("div",{staticClass:"main-info"},[l("div",{staticStyle:{height:"40px","line-height":"40px",position:"relative",left:"5px"}},[l("span",{staticClass:"content-top-text-blue"}),t._v(" "),l("span",{staticStyle:{"margin-left":"2px"}},[t._v("基础信息")])]),t._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"工号"}},[l("el-select",{attrs:{placeholder:"-工号-"},model:{value:t.laborForm.personInfoId,callback:function(e){t.$set(t.laborForm,"personInfoId",e)},expression:"laborForm.personInfoId"}},t._l(t.personInfo,function(e,o){return"其他"===e.employmentType?l("el-option",{key:o,attrs:{label:e.employmentNumber?e.employmentNumber:"暂未填写",value:e.infoId}}):t._e()}),1)],1),t._v(" "),l("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"证照类型",prop:"cardType"}},[l("el-input",{attrs:{value:"身份证",disabled:!0}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"所得时间起",prop:"cardNumber"}},[l("el-input",{attrs:{value:t.company[0].time_start,readonly:""}})],1)],1),t._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"姓名",prop:"personInfoId"}},[l("el-select",{attrs:{placeholder:"-请选择姓名-"},model:{value:t.laborForm.personInfoId,callback:function(e){t.$set(t.laborForm,"personInfoId",e)},expression:"laborForm.personInfoId"}},t._l(t.personInfo,function(e,o){return"其他"===e.employmentType?l("el-option",{key:o,attrs:{label:e.personName,value:e.infoId}}):t._e()}),1)],1),t._v(" "),l("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"证照号码",prop:"cardType"}},[l("el-select",{attrs:{placeholder:"请选择证件类型"},model:{value:t.laborForm.personInfoId,callback:function(e){t.$set(t.laborForm,"personInfoId",e)},expression:"laborForm.personInfoId"}},t._l(t.personInfo,function(e,o){return"其他"===e.employmentType?l("el-option",{key:o,attrs:{label:e.cardNumber,value:e.infoId}}):t._e()}),1)],1),t._v(" "),l("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"所得时间止",prop:"cardNumber"}},[l("el-input",{attrs:{value:t.company[0].time_end,readonly:""}})],1)],1),t._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"所得项目"}},[l("el-select",{attrs:{placeholder:"-请选择所得项目-"},model:{value:t.laborForm.incomeProject,callback:function(e){t.$set(t.laborForm,"incomeProject",e)},expression:"laborForm.incomeProject"}},[l("el-option",{attrs:{value:"一般劳动项目所得"}}),t._v(" "),l("el-option",{attrs:{value:"其他劳动项目所得"}})],1)],1)],1)]),t._v(" "),l("div",{staticClass:"main-info"},[l("div",{staticStyle:{height:"40px","line-height":"40px",position:"relative",left:"5px"}},[l("span",{staticClass:"content-top-text-blue"}),t._v(" "),l("span",{staticStyle:{"margin-left":"2px"}},[t._v("本期收入及免税收入")])]),t._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"本期收入",prop:"cardType"}},[l("el-input",{attrs:{type:"number"},on:{input:t.feiyong},model:{value:t.laborForm.income,callback:function(e){t.$set(t.laborForm,"income",t._n(e))},expression:"laborForm.income"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"费用",prop:"cardNumber"}},[l("el-input",{attrs:{type:"number",readonly:""},model:{value:t.laborForm.pay,callback:function(e){t.$set(t.laborForm,"pay",t._n(e))},expression:"laborForm.pay"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"本期免税收入",prop:"cardNumber"}},[l("el-input",{attrs:{type:"number"},model:{value:t.laborForm.incomeNoTax,callback:function(e){t.$set(t.laborForm,"incomeNoTax",t._n(e))},expression:"laborForm.incomeNoTax"}})],1)],1)]),t._v(" "),l("div",{staticClass:"main-info"},[l("div",{staticStyle:{height:"40px","line-height":"40px",position:"relative",left:"5px"}},[l("span",{staticClass:"content-top-text-blue"}),t._v(" "),l("span",{staticStyle:{"margin-left":"2px"}},[t._v("本期其他扣除")])]),t._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"商业健康保险",prop:"cardNumber"}},[l("el-input",{attrs:{type:"number"},on:{input:t.benqikouchuxioaji},model:{value:t.laborForm.otherForm.shangyebaoxian,callback:function(e){t.$set(t.laborForm.otherForm,"shangyebaoxian",t._n(e))},expression:"laborForm.otherForm.shangyebaoxian"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"税延养老保险",prop:"cardNumber"}},[l("el-input",{attrs:{type:"number"},on:{input:t.benqikouchuxioaji},model:{value:t.laborForm.otherForm.shuiyanbaoxian,callback:function(e){t.$set(t.laborForm.otherForm,"shuiyanbaoxian",t._n(e))},expression:"laborForm.otherForm.shuiyanbaoxian"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"其他",prop:"cardType"}},[l("el-input",{attrs:{type:"number"},on:{input:t.benqikouchuxioaji},model:{value:t.laborForm.otherForm.else,callback:function(e){t.$set(t.laborForm.otherForm,"else",t._n(e))},expression:"laborForm.otherForm.else"}})],1)],1),t._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"小计",prop:"cardNumber"}},[l("el-input",{attrs:{type:"number"},model:{value:t.laborForm.otherForm.benqikouchuxioaji,callback:function(e){t.$set(t.laborForm.otherForm,"benqikouchuxioaji",t._n(e))},expression:"laborForm.otherForm.benqikouchuxioaji"}})],1)],1)]),t._v(" "),l("div",{staticClass:"main-info"},[l("div",{staticStyle:{height:"40px","line-height":"40px",position:"relative",left:"5px"}},[l("span",{staticClass:"content-top-text-blue"}),t._v(" "),l("span",{staticStyle:{"margin-left":"2px"}},[t._v("本期其他")])]),t._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"准予扣除的捐赠额",prop:"cardType"}},[l("el-input",{attrs:{type:"number"},model:{value:t.laborForm.otherAll.zhunyukouchu,callback:function(e){t.$set(t.laborForm.otherAll,"zhunyukouchu",t._n(e))},expression:"laborForm.otherAll.zhunyukouchu"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"减免税额",prop:"cardNumber"}},[l("el-input",{attrs:{type:"number"},model:{value:t.laborForm.otherAll.jianmianshuie,callback:function(e){t.$set(t.laborForm.otherAll,"jianmianshuie",t._n(e))},expression:"laborForm.otherAll.jianmianshuie"}})],1)],1),t._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"已缴纳税额",prop:"cardType"}},[l("el-input",{attrs:{type:"number"},model:{value:t.laborForm.otherAll.yikoujiaoshuie,callback:function(e){t.$set(t.laborForm.otherAll,"yikoujiaoshuie",t._n(e))},expression:"laborForm.otherAll.yikoujiaoshuie"}})],1)],1),t._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"备注",prop:"cardType"}},[l("el-input",{model:{value:t.laborForm.otherAll.remark,callback:function(e){t.$set(t.laborForm.otherAll,"remark",e)},expression:"laborForm.otherAll.remark"}})],1)],1)])]),t._v(" "),l("el-form-item",{staticClass:"btn-bottom"},[l("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.submitForm(t.formId)}}},[t._v("保存")]),t._v(" "),l("el-button",{attrs:{size:"small"},on:{click:function(e){return t.resetForm(t.formId)}}},[t._v("重置")])],1)],1)],1)])],1)},staticRenderFns:[]};e.a=o},"9s33":function(t,e){},H3KO:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l("WlpE"),a=l.n(o);for(var r in o)"default"!==r&&function(t){l.d(e,t,function(){return o[t]})}(r);var i=l("473G");var n=function(t){l("9s33"),l("OvIB")},s=l("VU/8")(a.a,i.a,!1,n,"data-v-2a5a1f1c",null);e.default=s.exports},OvIB:function(t,e){},WlpE:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(l("Dd8w")),a=l("NYxO"),r=c(l("pbfL")),i=c(l("Gvqx")),n=c(l("tQk3")),s=c(l("bnex"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={components:{topSelect:s.default},data:function(){return(0,o.default)({},n.default,{formId:"laborForm",close_modal:!1,incomeProject:"一般劳动项目所得",laborForm:{personInfoId:"",income:0,pay:0,incomeNoTax:0,otherForm:{yearIncome:0,shangyebaoxian:0,shuiyanbaoxian:0,else:0,benqikouchuxioaji:0},otherAll:{zhunyukouchu:0,jianmianshuie:0,jianchufeiyongbiaozhun:0,yikoujiaoshuie:0,remark:""}},rules:{personInfoId:[{required:!0,message:"请选择姓名"}]},incomeAll:0,mianTaxAll:0})},computed:(0,o.default)({},(0,a.mapGetters)(["company"]),{personInfo:{get:function(){return console.log(i.default.tableRelevance(this,"personCollection",["personName","cardNumber","cardType","infoId","employmentNumber"],{employmentType:"雇员"})),i.default.tableRelevance(this,"personCollection",["personName","cardNumber","cardType","infoId","employmentNumber","employmentType"],{employmentType:"雇员"})}},payNormalTable:{get:function(){return this.isSelectNow?this.selectArr:i.default.tableRelevanceArr(this,this.$store.state.form.laborForm,this.$store.getters.getFormContent("personCollection"),["personName","cardNumber","cardType","employmentNumber"],"personInfoId","infoId")}}}),watch:{centerDialogVisible:function(t){t||(this.isUpdata=!1,this.laborForm=this.$options.data().laborForm)}},created:function(){this.$emit("router",this.$router.history.current.name),this.calculate()},mounted:function(){},methods:(0,o.default)({},r.default,{calculate:function(){var t=this;this.payNormalTable.length>0&&this.payNormalTable.forEach(function(e){t.incomeAll+=e.income,t.mianTaxAll+=e.incomeNoTax})},submitForm:function(t){var e=this,l=this;this.$refs[t].validate(function(o){if(!o)return!1;var a={};l[t].infoId||(l[t].infoId=l.$store.getters.getFormInfoId(t)+1);l.$store.state.service.monthNumber;l[t].incomeAll=l[t].income,l[t].incomeNoTaxAll=l[t].incomeNoTax,l[t].otherAll.jianchufeiyongbiaozhunAll=l[t].pay,l[t].jianchuAll=l[t].pay,l[t].otherAll.zhunyukouchuAll=l[t].otherAll.zhunyukouchu,l[t].leijiNashuiAll=parseFloat(l[t].incomeAll)-parseFloat(l[t].incomeNoTaxAll)-parseFloat(l[t].otherAll.jianchufeiyongbiaozhunAll)-parseFloat(l[t].jianchuAll)-parseFloat(l[t].otherAll.jianchufeiyongbiaozhunAll),l[t].leijiNashuiAll<=0&&(l[t].leijiNashuiAll=0),l[t].taxAll=i.default.laowuShuilvPercent(l[t].leijiNashuiAll),l[t].otherAll.jianmianshuieAll=l[t].otherAll.jianmianshuie,l[t].yingkoujiaoshuie=l[t].taxAll.taxPay-parseFloat(l[t].otherAll.jianmianshuie),l[t].tuibu=l[t].yingkoujiaoshuie-l[t].otherAll.yikoujiaoshuie,a.formId=t,a.content=l[t],l.isUpdata?(l.$store.commit("updataFormInfo",a),l.isUpdata=!1):l.$store.commit("addFormInfo",a),l.centerDialogVisible=!1,e[t]=e.$options.data()[t],l.$message.success("提交成功!"),console.log(e.$store.getters.getFormContent("laborForm")),e.calculate()})},benqikouchuxioaji:function(){var t=this.laborForm.otherForm;t.benqikouchuxioaji=(parseFloat(t.shangyebaoxian)+parseFloat(t.shuiyanbaoxian)+parseFloat(t.else)).toFixed(2)},feiyong:function(){var t=this.laborForm,e=parseFloat(t.income);switch(!0){case e<=4e3:t.pay=800;break;case e>4e3:t.pay=e-.8*e,t.pay=t.pay.toFixed(2)}}})}}});
//# sourceMappingURL=19.5e9bfea0ab3cce84468c.js.map