webpackJsonp([17],{"+dB6":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("7zrx"),o=l.n(a);for(var n in a)"default"!==n&&function(e){l.d(t,e,function(){return a[e]})}(n);var i=l("rbKO");var r=function(e){l("aYff"),l("qtSS")},s=l("VU/8")(o.a,i.a,!1,r,"data-v-2e1a6a90",null);t.default=s.exports},"7zrx":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(l("Dd8w")),o=l("NYxO"),n=c(l("pbfL")),i=c(l("Gvqx")),r=c(l("tQk3")),s=c(l("bnex"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={components:{topSelect:s.default},data:function(){return(0,a.default)({},r.default,{formId:"yearForm",close_modal:!1,yearForm:{personInfoId:"",allYearBonus:0,incomeNoTax:0,elseIncome:0,sum:0,otherAll:{zhunyukouchu:0,jianmianshuie:0,jianchufeiyongbiaozhun:0,yikoujiaoshuie:0,remark:""}},rules:{personInfoId:[{required:!0,message:"请选择姓名"}]},incomeAll:0,mianTaxAll:0})},watch:{centerDialogVisible:function(e){e||(this.isUpdata=!1,this.yearForm=this.$options.data().yearForm)}},computed:(0,a.default)({},(0,o.mapGetters)(["company"]),{personInfo:{get:function(){return i.default.tableRelevance(this,"personCollection",["personName","cardNumber","cardType","infoId","employmentNumber","employmentType"],{employmentType:"雇员"})}},payYearTable:{get:function(){return this.isSelectNow?this.selectArr:i.default.tableRelevanceArr(this,this.$store.state.form.yearForm,this.$store.getters.getFormContent("personCollection"),["personName","cardNumber","cardType","employmentNumber"],"personInfoId","infoId")}}}),created:function(){this.$emit("router",this.$router.history.current.name),this.calculate()},mounted:function(){},methods:(0,a.default)({calculate:function(){var e=this;this.payYearTable.length>0&&this.payYearTable.forEach(function(t){e.incomeAll+=t.income,e.mianTaxAll+=t.incomeNoTax})}},n.default,{submitForm:function(e){var t=this,l=this;this.$refs[e].validate(function(a){if(!a)return!1;var o={};l[e].infoId=l.$store.getters.getFormInfoId(e)+1,l[e].incomeProject="全年一次性奖金收入";l.$store.state.service.monthNumber;l[e].incomeAll=l[e].allYearBonus,l[e].income=l[e].allYearBonus,l[e].incomeNoTaxAll=l[e].incomeNoTax,l[e].otherAll.jianchufeiyongbiaozhunAll=0,l[e].elseIncome=parseFloat(l[e].elseIncome),l[e].jianchuAll=parseFloat(l[e].elseIncome)+parseFloat(l[e].otherAll.jianchufeiyongbiaozhunAll),l[e].otherAll.zhunyukouchuAll=l[e].otherAll.zhunyukouchu,l[e].leijiNashuiAll=parseFloat(l[e].incomeAll)-parseFloat(l[e].incomeNoTaxAll)-parseFloat(l[e].otherAll.jianchufeiyongbiaozhunAll)-parseFloat(l[e].jianchuAll)-parseFloat(l[e].otherAll.zhunyukouchuAll),l[e].otherAll.jianmianshuieAll=l[e].otherAll.jianmianshuie,l[e].taxAll=i.default.yearShuilvPercent(l[e].leijiNashuiAll),l[e].yingkoujiaoshuie=l[e].taxAll.taxPay-parseInt(l[e].otherAll.jianmianshuie),l[e].tuibu=l[e].yingkoujiaoshuie-l[e].otherAll.yikoujiaoshuie,o.formId=e,o.content=l[e],l.isUpdata?(l.$store.commit("updataFormInfo",o),l.isUpdata=!1):l.$store.commit("addFormInfo",o),l.centerDialogVisible=!1,t[e]=t.$options.data()[e],l.$message.success("提交成功!"),t.calculate()})},qitaInput:function(){this.yearForm.sum=this.yearForm.elseIncome}})}},aYff:function(e,t){},qtSS:function(e,t){},rbKO:function(e,t,l){"use strict";var a={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"collection",staticStyle:{width:"100%"}},[l("div",{staticClass:"rg-top"},[l("div",{staticClass:"rg-top-top"},[l("span",{staticClass:"content-top-text-blue"}),e._v(" "),l("span",{attrs:{id:"left_month"}},[e._v(e._s(e.company[0].shenbao_month))]),e._v(" "),l("span",{staticStyle:{"margin-left":"2px"}},[e._v("全年一次性收入")]),e._v(" "),l("span",{staticClass:"f-14 ml-50",staticStyle:{"font-weight":"normal"}},[e._v("申报总人数：")]),e._v(" "),l("span",{attrs:{id:"top_sum"}},[e._v(e._s(e.payYearTable.length))]),e._v(" "),l("span",{staticClass:"f-14 mr-20",staticStyle:{"font-weight":"normal"}},[e._v("人")]),e._v(" "),l("span",{staticClass:"f-14",staticStyle:{"font-weight":"normal"}},[e._v("收入总额：")]),e._v(" "),l("span",{attrs:{id:"top_add"}},[e._v(e._s(e.incomeAll))]),e._v(" "),l("span",{staticClass:"f-14 mr-20",staticStyle:{"font-weight":"normal"}},[e._v("元")]),e._v(" "),l("span",{staticClass:"f-14",staticStyle:{"font-weight":"normal"}},[e._v("免税收入合计：")]),e._v(" "),l("span",{attrs:{id:"top_del"}},[e._v(e._s(e.mianTaxAll))]),e._v(" "),l("span",{staticClass:"f-14",staticStyle:{"font-weight":"normal"}},[e._v("元")])]),e._v(" "),l("div",{staticClass:"rg-top-bottom"},[l("div",[l("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.goBack}},[e._v("返回")]),e._v(" "),l("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addFormClick}},[e._v("添加")]),e._v(" "),l("el-dropdown",[l("el-button",{attrs:{type:"primary",size:"small","split-button":!0}},[e._v("\n            导入\n            "),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{nativeOn:{click:function(t){return e.nullClick(t)}}},[e._v("导入文件")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.nullClick(t)}}},[e._v("模板下载")])],1)],1)],1),e._v(" "),l("div",[l("el-dropdown",[l("el-button",{staticClass:"right-btn",attrs:{type:"text",size:"small"}},[e._v("\n            导出\n            "),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{nativeOn:{click:function(t){return e.nullClick(t)}}},[e._v("导出当页")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.nullClick(t)}}},[e._v("导出全部")])],1)],1),e._v(" "),l("el-button",{staticClass:"right-btn",attrs:{type:"text",size:"small"},on:{click:e.changeSelectClick}},[e._v("展开查询条件")]),e._v(" "),l("el-dropdown",[l("el-button",{staticClass:"right-btn",attrs:{type:"text",size:"small"}},[e._v("\n            更多操作\n            "),l("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{nativeOn:{click:function(t){return e.updataClick(e.formId)}}},[e._v("修改")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.deleteClick(e.formId)}}},[e._v("删除")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.nullClick(t)}}},[e._v("批量修改")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.nullClick(t)}}},[e._v("自定义显示列")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.nullClick(t)}}},[e._v("隐藏非正常人员")]),e._v(" "),l("el-dropdown-item",{nativeOn:{click:function(t){return e.nullClick(t)}}},[e._v("异常身份证处理")])],1)],1)],1)])]),e._v(" "),e.isSelect?l("topSelect",{attrs:{formId:e.formId},on:{selectClick:e.selectClick}}):e._e(),e._v(" "),l("el-table",{ref:e.formId+"Table",staticStyle:{"margin-top":"5px"},attrs:{data:e.payYearTable,border:"",fit:"",width:"100%",size:"mini"},on:{"selection-change":e.selsChange}},[l("el-table-column",{attrs:{type:"selection"}}),e._v(" "),l("el-table-column",{attrs:{prop:"employmentNumber",label:"工号"}}),e._v(" "),l("el-table-column",{attrs:{prop:"personName",label:"姓名"}}),e._v(" "),l("el-table-column",{attrs:{prop:"cardType",label:"证照类型"}}),e._v(" "),l("el-table-column",{attrs:{prop:"cardNumber",label:"证照号码","show-overflow-tooltip":""}}),e._v(" "),l("el-table-column",{attrs:{label:"所得期间起",width:"100px"}},[[e._v(e._s(e.company[0].time_start))]],2),e._v(" "),l("el-table-column",{attrs:{label:"所得期间止",width:"100px"}},[[e._v(e._s(e.company[0].time_end))]],2),e._v(" "),l("el-table-column",{attrs:{prop:"allYearBonus",label:"全年一次性奖金额"}}),e._v(" "),l("el-table-column",{attrs:{prop:"incomeNoTax",label:"免税收入",width:"120px"}}),e._v(" "),l("el-table-column",{attrs:{prop:"elseIncome",label:"其他",width:"120px"}}),e._v(" "),l("el-table-column",{attrs:{prop:"otherAll.zhunyukouchu",label:"准予扣除的捐赠额",width:"120px"}}),e._v(" "),l("el-table-column",{attrs:{prop:"otherAll.jianmianshuie",label:"减免税额"}}),e._v(" "),l("el-table-column",{attrs:{prop:"otherAll.yikoujiaoshuie",label:"已扣缴税额"}}),e._v(" "),l("el-table-column",{attrs:{prop:"otherAll.remark",label:"备注"}})],1),e._v(" "),l("el-dialog",{staticClass:"in-table",attrs:{title:"全年一次性收入",visible:e.centerDialogVisible,"close-on-click-modal":e.close_modal,width:"1000px",top:"10vh"},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[l("div",{staticClass:"in-table-content"},[l("el-form",{ref:e.formId,staticClass:"demo-ruleForm",attrs:{"status-icon":!0,model:e.yearForm,rules:e.rules,"label-width":"110px","label-position":"right"}},[l("div",{staticStyle:{height:"600px",padding:"0 30px 0 0px","overflow-y":"auto"}},[l("div",{staticClass:"main-info"},[l("div",{staticStyle:{height:"40px","line-height":"40px",position:"relative",left:"5px"}},[l("span",{staticClass:"content-top-text-blue"}),e._v(" "),l("span",{staticStyle:{"margin-left":"2px"}},[e._v("基础信息")])]),e._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"工号"}},[l("el-select",{attrs:{placeholder:"-工号-"},model:{value:e.yearForm.personInfoId,callback:function(t){e.$set(e.yearForm,"personInfoId",t)},expression:"yearForm.personInfoId"}},e._l(e.personInfo,function(t,a){return"雇员"===t.employmentType?l("el-option",{key:a,attrs:{label:t.employmentNumber?t.employmentNumber:"暂未填写",value:t.infoId}}):e._e()}),1)],1),e._v(" "),l("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"证照类型",prop:"cardType"}},[l("el-input",{attrs:{value:"身份证",disabled:!0}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"所得时间起",prop:"cardNumber"}},[l("el-input",{attrs:{value:e.company[0].time_start,readonly:""}})],1)],1),e._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"姓名",prop:"personInfoId"}},[l("el-select",{attrs:{placeholder:"-请选择姓名-"},model:{value:e.yearForm.personInfoId,callback:function(t){e.$set(e.yearForm,"personInfoId",t)},expression:"yearForm.personInfoId"}},e._l(e.personInfo,function(t,a){return"雇员"===t.employmentType?l("el-option",{key:a,attrs:{label:t.personName,value:t.infoId}}):e._e()}),1)],1),e._v(" "),l("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"证照号码",prop:"cardType"}},[l("el-select",{attrs:{placeholder:"请选择证件类型"},model:{value:e.yearForm.personInfoId,callback:function(t){e.$set(e.yearForm,"personInfoId",t)},expression:"yearForm.personInfoId"}},e._l(e.personInfo,function(t,a){return"雇员"===t.employmentType?l("el-option",{key:a,attrs:{label:t.cardNumber,value:t.infoId}}):e._e()}),1)],1),e._v(" "),l("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"所得时间止",prop:"cardNumber"}},[l("el-input",{attrs:{value:e.company[0].time_end,readonly:""}})],1)],1)]),e._v(" "),l("div",{staticClass:"main-info"},[l("div",{staticStyle:{height:"40px","line-height":"40px",position:"relative",left:"5px"}},[l("span",{staticClass:"content-top-text-blue"}),e._v(" "),l("span",{staticStyle:{"margin-left":"2px"}},[e._v("收入及减除费用")])]),e._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"全年一次性奖金额",prop:"cardType"}},[l("el-input",{attrs:{type:"number"},model:{value:e.yearForm.allYearBonus,callback:function(t){e.$set(e.yearForm,"allYearBonus",e._n(t))},expression:"yearForm.allYearBonus"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"免税收入",prop:"cardType"}},[l("el-input",{attrs:{type:"number"},model:{value:e.yearForm.incomeNoTax,callback:function(t){e.$set(e.yearForm,"incomeNoTax",e._n(t))},expression:"yearForm.incomeNoTax"}})],1)],1)]),e._v(" "),l("div",{staticClass:"main-info"},[l("div",{staticStyle:{height:"40px","line-height":"40px",position:"relative",left:"5px"}},[l("span",{staticClass:"content-top-text-blue"}),e._v(" "),l("span",{staticStyle:{"margin-left":"2px"}},[e._v("本期其他扣除")])]),e._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"其他",prop:"cardType"}},[l("el-input",{attrs:{type:"number"},on:{input:e.qitaInput},model:{value:e.yearForm.elseIncome,callback:function(t){e.$set(e.yearForm,"elseIncome",e._n(t))},expression:"yearForm.elseIncome"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"小计",prop:"cardNumber"}},[l("el-input",{attrs:{type:"number"},model:{value:e.yearForm.sum,callback:function(t){e.$set(e.yearForm,"sum",e._n(t))},expression:"yearForm.sum"}})],1)],1)]),e._v(" "),l("div",{staticClass:"main-info"},[l("div",{staticStyle:{height:"40px","line-height":"40px",position:"relative",left:"5px"}},[l("span",{staticClass:"content-top-text-blue"}),e._v(" "),l("span",{staticStyle:{"margin-left":"2px"}},[e._v("本期其他")])]),e._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"准予扣除的捐赠额",prop:"cardType"}},[l("el-input",{attrs:{type:"number"},model:{value:e.yearForm.otherAll.zhunyukouchu,callback:function(t){e.$set(e.yearForm.otherAll,"zhunyukouchu",e._n(t))},expression:"yearForm.otherAll.zhunyukouchu"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"减免税额",prop:"cardNumber"}},[l("el-input",{attrs:{type:"number"},model:{value:e.yearForm.otherAll.jianmianshuie,callback:function(t){e.$set(e.yearForm.otherAll,"jianmianshuie",e._n(t))},expression:"yearForm.otherAll.jianmianshuie"}})],1)],1),e._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"33%"},attrs:{label:"已扣缴税额",prop:"cardType"}},[l("el-input",{attrs:{type:"number"},model:{value:e.yearForm.otherAll.yikoujiaoshuie,callback:function(t){e.$set(e.yearForm.otherAll,"yikoujiaoshuie",e._n(t))},expression:"yearForm.otherAll.yikoujiaoshuie"}})],1)],1),e._v(" "),l("div",{staticStyle:{display:"flex"}},[l("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"备注",prop:"cardType"}},[l("el-input",{model:{value:e.yearForm.remark,callback:function(t){e.$set(e.yearForm,"remark",t)},expression:"yearForm.remark"}})],1)],1)])]),e._v(" "),l("el-form-item",{staticClass:"btn-bottom"},[l("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.submitForm(e.formId)}}},[e._v("保存")]),e._v(" "),l("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetForm(e.formId)}}},[e._v("重置")])],1)],1)],1)])],1)},staticRenderFns:[]};t.a=a}});
//# sourceMappingURL=17.e771381035bea29ca6cd.js.map